<!DOCTYPE html>
<html>
<head>
	<title>Formulario con validacion</title>
	<!--
		Fecha: 12 de enero
		Descripcion: Formulario con validacion
		Tema: Web Storage
	-->
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="FormularioConValidacion.css">
</head>
<body style="background-color: lightgrey">
	<header>
		<h1>Formulario con validaciones en lado cliente y LocalStorage2</h1>
		<p>Es una forma de almacenar información el navegador lado cliente en lugar de usar  <br>
		en lugar de usar cookies</p>
	</header>
	<nav></nav>
	<main>
		<section>
			<!-- Creamos un elemento vacio para luego poner aqui el resultado de nuestro script -->
			<div id="mensaje"></div>
		</section>

	</main>
	<footer></footer>
	<a href="https://robezb.github.io/publico/">Pagina anterior</a>
	<form name="miFormulario" onsubmit="return guardar()">
  		<label for="fname">Nombre:</label><br>
  		<input type="text" id="fname" name="fname"><br><br>
  		<input type="submit">
	</form>

	<script type="text/javascript">
		document.getElementById("mensaje").innerHTML=localStorage.getItem("nombre");
		function guardar() {
			if (typeof(Storage) !== "undefined") {
				//Storage
				//var x = document.forms["miFormulario"]["lname"].value;
				localStorage.setItem("nombre", document.forms["miFormulario"]["fname"].value);
				//Retrieve
				document.getElementById('mensaje').innerHTML = localStorage.getItem("nombre");
			} else {
				document.getElementById('mensaje').innerHTML = "Este navegador no soporta web storage";
			}
			//con false paramos el submit que evita que nos borre la información que teniamos de antes (nombre y apellidos)
			return false;
		}

	</script>
</body>
</html>
